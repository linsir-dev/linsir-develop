# 加密算法示例代码

## 1. 项目结构

本目录包含常见加密算法的示例代码，包括：

- 基础加密算法：
  - SymmetricEncryption.java - 对称加密算法（AES、DES等）
  - AsymmetricEncryption.java - 非对称加密算法（RSA、ECC等）
  - HashFunction.java - 哈希函数（SHA-256、MD5等）

- 第三方加密库：
  - BouncyCastleExample.java - Bouncy Castle加密库示例
  - GoogleTinkExample.java - Google Tink加密库示例
  - JasyptExample.java - Jasypt加密库示例

- 测试类：
  - EncryptionTest.java - 加密算法测试类

## 2. 加密算法分类

### 2.1 对称加密算法

| 算法 | 密钥长度 | 特点 | 应用场景 |
|------|---------|------|----------|
| AES (Advanced Encryption Standard) | 128/192/256位 | 安全、高效、广泛使用 | 数据传输、存储加密 |
| DES (Data Encryption Standard) | 56位 | 经典算法，已被淘汰 | 历史系统兼容 |
| 3DES (Triple DES) | 168位 | 增强DES安全性 | 金融系统、支付卡行业 |
| Blowfish | 32-448位 | 快速、灵活 | 嵌入式系统、VPN |
| Twofish | 128/192/256位 | 安全、高效 | 软件加密、VPN |
| RC4 | 40-2048位 | 速度快，流加密 | 无线通信、SSL/TLS |

### 2.2 非对称加密算法

| 算法 | 密钥长度 | 特点 | 应用场景 |
|------|---------|------|----------|
| RSA (Rivest-Shamir-Adleman) | 1024-4096位 | 经典算法，广泛使用 | 数字签名、密钥交换 |
| ECC (Elliptic Curve Cryptography) | 160-521位 | 密钥短、安全性高 | 移动设备、IoT |
| DSA (Digital Signature Algorithm) | 1024-3072位 | 专为数字签名设计 | 数字签名 |
| ElGamal | 1024-4096位 | 基于离散对数问题 | 数字签名、密钥交换 |
| Diffie-Hellman | 1024-4096位 | 密钥交换协议 | 安全通信、VPN |

### 2.3 哈希函数

| 算法 | 输出长度 | 特点 | 应用场景 |
|------|---------|------|----------|
| SHA-256 | 256位 | 安全、广泛使用 | 数据完整性、区块链 |
| SHA-384 | 384位 | 更高安全性 | 高安全要求场景 |
| SHA-512 | 512位 | 最高安全性 | 高安全要求场景 |
| MD5 | 128位 | 速度快，已被破解 | 历史系统兼容 |
| BLAKE2 | 160-512位 | 速度快、安全 | 软件应用、校验和 |
| HMAC | 可变 | 带密钥的哈希函数 | 消息认证、API签名 |

## 3. 加密库介绍

### 3.1 Bouncy Castle

**特点**：
- 提供了Java标准库中没有的许多加密算法
- 支持的算法包括：AES、DES、3DES、Blowfish、Twofish、RSA、ECC等
- 还提供了一些特殊的算法，如Camellia、Serpent等
- 广泛应用于需要额外加密算法支持的场景

**使用场景**：
- 需要使用非标准加密算法的应用
- 需要更高安全性的加密场景
- 需要自定义加密实现的场景

### 3.2 Google Tink

**特点**：
- 现代加密库，专注于安全性和易用性
- 提供了高级API，如AEAD（认证加密与关联数据）、数字签名等
- 支持的算法包括：AES-GCM、ChaCha20-Poly1305、RSA、ECC等
- 设计目标是减少加密错误，提供安全的默认配置
- 支持密钥管理和轮换

**使用场景**：
- 需要现代加密技术的应用
- 对安全性要求较高的场景
- 需要减少加密错误的场景
- 云服务和移动应用

### 3.3 Jasypt

**特点**：
- 简单的加密库，适用于配置文件加密等场景
- 提供了简单的API，如BasicTextEncryptor和StrongTextEncryptor
- 支持的算法包括：PBEWithMD5AndDES、PBEWithSHA1AndDESede等
- 设计目标是简单易用，适合快速实现加密功能
- 支持与Spring框架集成

**使用场景**：
- 配置文件中的密码加密
- 简单的应用场景
- 需要快速实现加密功能的场景
- 与Spring框架集成的应用

## 4. 加密算法应用场景

### 4.1 数据传输加密

**推荐算法**：AES-256 + RSA

**理由**：
- 使用RSA交换密钥，确保密钥安全
- 使用AES-256加密数据，确保数据安全和传输速度

**应用示例**：
- HTTPS通信
- VPN连接
- 安全邮件

### 4.2 数据存储加密

**推荐算法**：AES-256

**理由**：
- 密钥管理相对简单
- 加密速度快，适合大量数据
- 安全性高

**应用示例**：
- 数据库加密
- 文件系统加密
- 备份数据加密

### 4.3 数字签名

**推荐算法**：RSA-2048/ECC-256

**理由**：
- RSA是经典的数字签名算法，广泛支持
- ECC密钥短，签名验证速度快

**应用示例**：
- 代码签名
- 文档签名
- 电子合同

### 4.4 密码存储

**推荐算法**：bcrypt/Argon2 + SHA-256

**理由**：
- bcrypt和Argon2专为密码存储设计，抗暴力破解
- 结合SHA-256使用，增强安全性

**应用示例**：
- 用户密码存储
- 认证系统

### 4.5 区块链

**推荐算法**：SHA-256 + ECC

**理由**：
- SHA-256用于区块哈希和工作量证明
- ECC用于数字签名，密钥短，适合区块链

**应用示例**：
- Bitcoin
- Ethereum
- 其他区块链项目

## 5. 加密安全最佳实践

### 5.1 密钥管理

1. **密钥生成**：使用安全的随机数生成器生成密钥
2. **密钥存储**：使用硬件安全模块(HSM)或密钥管理服务存储密钥
3. **密钥轮换**：定期更换密钥，减少密钥泄露的风险
4. **密钥备份**：安全备份密钥，防止密钥丢失
5. **密钥销毁**：安全销毁不再使用的密钥

### 5.2 算法选择

1. **使用强算法**：选择安全的加密算法，如AES-256、RSA-2048+
2. **避免弱算法**：不使用已被破解的算法，如MD5、SHA-1、DES
3. **考虑性能**：根据应用场景选择合适的算法，平衡安全性和性能
4. **遵循标准**：使用行业标准的加密算法和协议

### 5.3 实现安全

1. **使用成熟的库**：使用经过验证的加密库，如Bouncy Castle、Google Tink
2. **避免自行实现**：不自行实现加密算法，使用标准库
3. **正确使用API**：按照文档正确使用加密API，避免常见错误
4. **处理异常**：妥善处理加密相关的异常，避免信息泄露
5. **安全默认值**：使用安全的默认配置，如适当的密钥长度和参数

### 5.4 其他安全措施

1. **传输安全**：使用HTTPS等安全协议传输数据
2. **访问控制**：实施严格的访问控制，限制对加密数据的访问
3. **审计日志**：记录加密操作的审计日志，便于追踪和分析
4. **安全更新**：及时更新加密库和依赖，修复安全漏洞
5. **定期评估**：定期评估加密系统的安全性，发现并修复问题

## 6. 运行测试

### 6.1 编译和运行

在项目根目录执行以下命令：

```bash
# 编译项目
mvn compile

# 运行测试
mvn exec:java -Dexec.mainClass="com.linsir.abc.pdai.structure.encryption.EncryptionTest"
```

### 6.2 测试结果

测试将输出每种加密算法的加密和解密结果，包括：
- 对称加密：AES加密和解密
- 非对称加密：RSA加密、解密和签名验证
- 哈希函数：SHA-256、SHA-512和MD5哈希值
- Bouncy Castle：Blowfish和Twofish加密和解密
- Google Tink：AEAD加密和解密
- Jasypt：BasicTextEncryptor和StrongTextEncryptor加密和解密

## 7. 代码特点

1. **完整实现**：每种加密算法都有完整的实现，包括加密和解密功能
2. **详细注释**：代码中包含详细的注释，解释算法原理和实现细节
3. **易于理解**：代码结构清晰，变量命名规范，便于学习和理解
4. **安全性考虑**：在实现中考虑了加密安全的最佳实践
5. **通用性**：算法实现适用于各种输入情况，包括空数据、边界情况等

## 8. 学习建议

1. **从基础开始**：先学习对称加密、非对称加密和哈希函数的基本原理
2. **理解应用场景**：掌握不同加密算法的适用场景，选择合适的算法
3. **实践应用**：尝试在实际项目中应用加密算法，解决实际问题
4. **关注安全**：了解常见的加密安全问题，避免犯常见错误
5. **持续学习**：关注加密技术的最新发展，如后量子密码学

## 9. 参考资料

- 《密码学原理与实践》
- 《应用密码学》
- 《Java加密与解密技术》
- Bouncy Castle官网：https://www.bouncycastle.org/
- Google Tink官网：https://github.com/google/tink
- Jasypt官网：http://www.jasypt.org/
- OWASP密码存储指南：https://cheatsheetseries.owasp.org/cheatsheets/Password_Storage_Cheat_Sheet.html
